#===============================================================================
#
# AVS build configuration
#
# GENERAL DESCRIPTION
#    AVS build configuration for different chipsets & AVSTest must be specified here. 
#     
#    set in the AVS image scons script file.
#       1) A normal library with symbols - no need specify it
#       2) A stub library  USES_<LIB NAME IN CAPITAL CASE>_STUB
#       3) A stripped library USES_<LIB NAME IN CAPITAL CASE>_STRIP
#
# Copyright (c) 2013 Qualcomm Technologies, Inc.  All Rights Reserved.
# Qualcomm Technologies Proprietary and Confidential.
#
#-------------------------------------------------------------------------------
#
#  $Header: //commercial/MPSS.JO.2.0.c1.4/Main/modem_proc/audio_avs/build/build_config.py#1 $
#  $DateTime: 2016/12/13 07:58:24 $
#  $Author: mplcsds1 $
#  $Change: 11985135 $
#                      EDIT HISTORY FOR FILE
#                      
#  This section contains comments describing changes made to the module.
#  Notice that changes are listed in reverse chronological order.
#  
# when       who     what, where, why
# --------   ---     ---------------------------------------------------------
# 09/21/12   kk      Build configuration
# 04/18/13   nr      Stub out ultrasound stream manager for 8x10 and 9x25
# 04/25/2014 sv      Clean up of build config
#===============================================================================


def chipset_specific_build_config(env):
    env.Replace(USES_DTS =False)  
    env.Replace(USES_MIDI =False)  

    
    if env.get('AVS_TEST') == True:
        env.Append(CFLAGS='-DADSP_TEST_ENTRY -DSIM -DSIM_DEFINED')
        env.Replace(USES_DTS =True)
        env.Replace(USES_MIDI =False)
        
        #import re
        #temp=env.get('CC_DFLAGS')
        #yy = re.sub('-DASSERT=ASSERT_FATAL','',temp)
        #env.Replace(CC_DFLAGS=yy) 
        env.Replace(USES_AFEERRHANDLER_STUB = True)		
        env.Replace(USES_AFESLIMBUSDRIVER_STUB = True)
        env.Replace(USES_MIDI_SYNTH_SVC_STUB = True)        
        env.Replace(USES_AFESPDIFDRIVER_STUB = True)
        env.Replace(USES_AFEHDMIINPUTDRIVER_STUB = True)
        env.Replace(USES_AFEDMAMANAGER_STUB = True)			
        env.Replace(USES_RS_DRIVER_STUB = True)
        env.Replace(USES_DML_HAL_STUB = True)
        env.Replace(USES_FBSPKRPROT_STUB = True)
        env.Replace(USES_RS_DRIVER_STUB = True)
        env.Replace(USES_AFECODECDRIVER_STUB = True)
        env.Replace(USES_DOLBYPLUS_ENCODER_STUB = True)
        env.Replace(USES_DOLBYPULSEDECODERMODULE_STRIP = True)
        env.Replace(USES_MBDRC24BITMODULE_STRIP = True)
        env.Replace(USES_MS12DOLBYPULSEDECODERMODULE_STUB = True)
		#Copying stubs from target mode to SIM
        env.Replace(USES_ETSIEAACPLUSENCODERMODULE_STUB=True)
        env.Replace(USES_ETSIAMRWBPLUSDECMODULE_STUB=True)
        env.Replace(USES_HPMP2DECODERMODULE_STUB=True)
        env.Replace(USES_MP3ENCODERMODULE_STUB=True)            
        env.Replace(USES_SBCENCODERMODULE_STUB=True)
        env.Replace(USES_WMASTDV8ENCODERMODULE_STUB=True)
        env.Replace(USES_DOLBYPLUS_ENCODER_STUB=True)
        env.Replace(USES_DOLBYMOBILEMODULE_STUB = True)
        env.Replace(USES_DOLBYSURROUNDMODULE_STRIP = True)
        #env.Replace(USES_DS1LICENSEHANDLER_STUB = True)
        env.Replace(USES_AACPACKETIZERMODULE_STUB = True)
        env.Replace(USES_AC3PACKETIZERMODULE_STUB = True)
        env.Replace(USES_EAC3PACKETIZERMODULE_STUB=True)
        env.Replace(USES_GENERICDEPACKETIZERMODULE_STUB=True)
        env.Replace(USES_PASSTHRUFORMATTERMODULE_STUB=True)
        env.Replace(USES_ULTRASOUND_STREAM_MGR_STUB=True)#Need to confirm
        env.Replace(USES_COMPRESSEDMUTEAPPI_STUB = True)
        env.Replace(USES_COMPRESSEDLATENCYAPPI_STUB = True)
        env.Replace(USES_DELAYAPPI_STUB = True)
        env.Replace(USES_SPECTRUMANALYZERMODULE_STUB = True)
        env.Replace(USES_IEC61937_STUB = True)
        env.Replace(USES_SRSSS3DMODULE_STUB = True)
        env.Replace(USES_DTSHDPACKETIZERMODULE_STUB=True)
        env.Replace(USES_SLOW_TALK_STUB = True)
        env.Replace(USES_VOICEWAKEUPMODULE_STUB = True)
        #Stubbing out DTS for SIM builds
        if env.get('USES_DTS') == True:
            env.Replace(USES_DTSMODULE_STUB = True) 
            
        
        if env.get ('USES_AUDIO_AVS_SOURCES') == True:
            env.Replace(USES_ULTRASOUND_STREAM_MGR_STUB = True)

    else:

        if env.get('CHIPSET') == "msm8916" :
            env.Replace(USES_DTS =True)
            env.Replace(USES_MIDI =False)

            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)

            if env.get('USES_MIDI') == True:
                env.Replace(USES_MIDICOREMODULE_STRIP=True)

            env.Replace(USES_DTMFMODULE_STRIP_ONLY = True)
            env.Replace(USES_ETSIBITBUFFLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIFFRLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIOPLIB_STRIP_ONLY = True)
            env.Replace(USES_AACDECODERMODULE_STRIP=True)
            env.Replace(USES_MIDI_SYNTH_SVC_STUB=True)
            env.Replace(USES_ETSIEAACPLUSENCODERMODULE_STUB=True)
            env.Replace(USES_ADPCMDECODERMODULE_STRIP=True)
            env.Replace(USES_ADPCMENCODERMODULE_STRIP=True)
            env.Replace(USES_ETSIAMRWBPLUSDECMODULE_STUB=True)
            env.Replace(USES_FLACDECODERMODULE_STUB=True)
            env.Replace(USES_HPMP3DECODERMODULE_STRIP=True)
            env.Replace(USES_MP3DECODERMODULE_STRIP=True)
            env.Replace(USES_HPMP2DECODERMODULE_STUB=True)
            env.Replace(USES_MP3ENCODERMODULE_STUB=True)            
            env.Replace(USES_SBCENCODERMODULE_STUB=True)
            env.Replace(USES_VORBISDECODERMODULE_STUB = True)
            env.Replace(USES_WMAPRODECODERMODULE_STUB=True)
            env.Replace(USES_WMASTDDECODERMODULE_STUB=True)
            env.Replace(USES_WMASTDV8ENCODERMODULE_STUB=True)
            env.Replace(USES_DOLBYPLUS_ENCODER_STUB=True)
            env.Replace(USES_DOLBYMOBILEMODULE_STUB = True)
            env.Replace(USES_DOLBYPULSEDECODERMODULE_STRIP = True)
            env.Replace(USES_MS12DOLBYPULSEDECODERMODULE_STUB = True)
            env.Replace(USES_DOLBYSURROUNDMODULE_STRIP = True)
            #env.Replace(USES_DS1LICENSEHANDLER_STUB = True)
            env.Replace(USES_AACPACKETIZERMODULE_STUB = True)
            env.Replace(USES_AC3PACKETIZERMODULE_STUB = True)
            #env.Replace(USES_CSPECTRUMANALYZERLIB_STRIP = True)
            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)
            env.Replace(USES_SRSTRUMEDIAMODULE_STRIP=True)                      
            env.Replace(USES_EAC3PACKETIZERMODULE_STUB=True)
            env.Replace(USES_GENERICDEPACKETIZERMODULE_STUB=True)
            env.Replace(USES_PASSTHRUFORMATTERMODULE_STUB=True)
            env.Replace(USES_ULTRASOUND_STREAM_MGR_STUB=True)#Need to confirm
            env.Replace(USES_CHANNELMIXERLIB_STRIP_ONLY = True)
            env.Replace(USES_DOWNMIXMODULE_STRIP = True)
            env.Replace(USES_PEAKMETERMODULE_STRIP = True)
            env.Replace(USES_COMPRESSEDMUTEAPPI_STUB = True)
            env.Replace(USES_COMPRESSEDLATENCYAPPI_STUB = True)
            env.Replace(USES_DELAYAPPI_STUB = True)
            env.Replace(USES_FILTERMODULE_STRIP = True)
            env.Replace(USES_EANSMODULE_STRIP_ONLY = True)
            env.Replace(USES_PBEMODULE_STUB = True)
            env.Replace(USES_CDRCLIB_STRIP_ONLY = True)
            env.Replace(USES_CLIMITER24LIB_STRIP_ONLY = True)
            env.Replace(USES_AIGMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRCMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRC24BITMODULE_STRIP = True)            
            env.Replace(USES_RATEMATCHINGMODULE_STRIP_ONLY = True)
            env.Replace(USES_RESAMPLERMODULE_STRIP_ONLY = True)
            env.Replace(USES_AUDPPCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_AUDCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_VOLUMECONTROLMODULE_STRIP = True)
            env.Replace(USES_SPECTRUMANALYZERMODULE_STUB = True)
            env.Replace(USES_IEC61937_STUB = True)
            env.Replace(USES_SRSSS3DMODULE_STUB = True)
            env.Replace(USES_DTSHDPACKETIZERMODULE_STUB=True)
            env.Replace(USES_VISUALIZERMODULE_STRIP=True)
            env.Replace(USES_VIRTUALIZERMODULE_STRIP=True)
            env.Replace(USES_REVERBMODULE_STRIP_ONLY = True)
            env.Replace(USES_BASSBOOSTMODULE_STRIP=True)
            env.Replace(USES_POPLESSEQUALIZERMODULE_STRIP=True)
            env.Replace(USES_ALACDECODERMODULE_STUB = True)
            env.Replace(USES_AUDIOSPHEREMODULE_STUB = True)

            env.Replace(USES_VFE_FILTERS_STRIP = True)
            env.Replace(USES_VOLUME_CONTROL_STRIP_ONLY = True)
            env.Replace(USES_IIR_FILTER_STRIP = True)
            env.Replace(USES_DTMF_DETECT_STRIP = True)
            env.Replace(USES_SAMPLE_SLIP_STRIP = True)
            env.Replace(USES_ECHO_CANCELLER_STRIP = True)
            env.Replace(USES_QUARTET_STRIP = True)
            env.Replace(USES_FLUENCE_VOICEPLUS_STRIP = True)
            env.Replace(USES_AVC_TX_STRIP = True)
            env.Replace(USES_FIR_FILTER_STRIP = True)
            env.Replace(USES_CNG_STRIP = True)
            env.Replace(USES_CTM_STRIP = True)
            env.Replace(USES_TTY_STRIP = True)
            env.Replace(USES_LTETTY_STRIP = True)
            env.Replace(USES_VOCODER_AMRWB_STRIP = True)
            env.Replace(USES_VOCODER_FR_STRIP = True)
            env.Replace(USES_VOCODER_FOURGV_STRIP = True)
            env.Replace(USES_VOCODER_EVRC_STRIP = True)
            env.Replace(USES_VOCODER_EFR_STRIP = True)
            env.Replace(USES_VOCODER_EAMR_STRIP = True)
            env.Replace(USES_VOCODER_V13K_STRIP = True)
            env.Replace(USES_VOCODER_HR_STRIP = True)
            env.Replace(USES_VOCODER_G729AB_STRIP = True)
            env.Replace(USES_VOCODER_G711_STRIP = True)
            env.Replace(USES_TIME_WARPING_STRIP = True)
            env.Replace(USES_SLOW_TALK_STUB = True)
            env.Replace(USES_WIDE_VOICE_STRIP = True)
            env.Replace(USES_WIDE_VOICE_V2_STRIP = True)
            env.Replace(USES_CROSS_FADE_STRIP = True)
            env.Replace(USES_AVC_RX_STRIP = True)
            env.Replace(USES_RVE_STRIP = True)
            env.Replace(USES_VOICE_RESAMPLER_STRIP = True)
            env.Replace(USES_RSBY2_STRIP = True)

            env.Replace(USES_AFEERRHANDLER_STUB = True)
            #env.Replace(USES_EFFECTSMODULE_STRIP=True)
            #env.Replace(USES_DS1LICENSEHANDLER_STRIP=True)
            env.Replace(USES_AFESLIMBUSDRIVER_STUB = True)
            env.Replace(USES_ADAPANC_STUB = True)
            #env.Replace(USES_VOICE_WAKEUP_STUB = True)
            env.Replace(USES_FBSPKRPROT_STUB = True)
            #env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STUB = True)
            #env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STUB = True)
            #env.Replace(USES_AFERIVADRIVER_STUB=True)				
            env.Replace(USES_RS_DRIVER_STUB = True)
            env.Replace(USES_DML_HAL_STUB = True)
            env.Replace(USES_AFECODECDRIVER_STUB = True)
            env.Replace(USES_AFESPDIFDRIVER_STUB = True)
            #env.Replace(USES_AVTIMER_DRIVER_STUB = True)
            #env.Replace(USES_AFEAUDIOIFDRIVER_STUB = True)
            #env.Replace(USES_LPAIF_DRIVER_STUB = True)
            #env.Replace(USES_HWD_COMMON_STUB = True)
            #env.Replace(USES_AFEVFRDRIVER_STUB = True)
            env.Replace(USES_AFEHDMIINPUTDRIVER_STUB = True)
            env.Replace(USES_AFEDMAMANAGER_STUB = True)
            env.Replace(USES_VOICEWAKEUPMODULE_STUB = True)
            env.Replace(USES_VOICEWAKEUPV2MODULE_STRIP = True)
            env.Replace(USES_DTMFGENERATION_STRIP_ONLY = True)
            env.Replace(USES_FFSPKRPROT_STRIP_ONLY = True)
            env.Replace(USES_POP_SUPPRESSOR_STRIP_ONLY = True)
            env.Replace(USES_REMOVECLICKLIB_STRIP_ONLY = True)
            env.Replace(USES_AFESWMAD_ALGO_STRIP_ONLY=True)
            env.Replace(USES_SP_V2_STUB =True)
            #env.Replace(USES_AFESWMAD_FWK_STRIP_ONLY=True)
            env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STRIP_ONLY = True)
            env.Replace(USES_MODEL_PARSER_LIB_STRIP_ONLY = True)
            env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STRIP_ONLY = True)
            env.Replace(USES_SVA_CMN_LIB_STRIP_ONLY = True)
            env.Replace(USES_AFECLKMANAGER_STUB = True)

       
        elif env.get('CHIPSET') == "msm8936":
            env.Replace(USES_DTS =True)
            env.Replace(USES_MIDI =False)

            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)

            if env.get('USES_MIDI') == True:
                env.Replace(USES_MIDICOREMODULE_STRIP=True)

            env.Replace(USES_DTMFMODULE_STRIP_ONLY = True)
            env.Replace(USES_ETSIBITBUFFLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIFFRLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIOPLIB_STRIP_ONLY = True)
            env.Replace(USES_AACDECODERMODULE_STRIP=True)
            env.Replace(USES_MIDI_SYNTH_SVC_STUB=True)
            env.Replace(USES_ETSIEAACPLUSENCODERMODULE_STUB=True)
            env.Replace(USES_ADPCMDECODERMODULE_STRIP=True)
            env.Replace(USES_ADPCMENCODERMODULE_STRIP=True)
            env.Replace(USES_ETSIAMRWBPLUSDECMODULE_STUB=True)
            env.Replace(USES_FLACDECODERMODULE_STUB=True)
            env.Replace(USES_HPMP3DECODERMODULE_STRIP=True)
            env.Replace(USES_MP3DECODERMODULE_STRIP=True)
            env.Replace(USES_HPMP2DECODERMODULE_STUB=True)
            env.Replace(USES_MP3ENCODERMODULE_STUB=True)            
            env.Replace(USES_SBCENCODERMODULE_STUB=True)
            env.Replace(USES_VORBISDECODERMODULE_STUB = True)
            env.Replace(USES_WMAPRODECODERMODULE_STUB=True)
            env.Replace(USES_WMASTDDECODERMODULE_STUB=True)
            env.Replace(USES_WMASTDV8ENCODERMODULE_STUB=True)
            env.Replace(USES_DOLBYPLUS_ENCODER_STUB=True)
            env.Replace(USES_DOLBYMOBILEMODULE_STUB = True)
            env.Replace(USES_DOLBYPULSEDECODERMODULE_STRIP = True)
            env.Replace(USES_MS12DOLBYPULSEDECODERMODULE_STUB = True)
            env.Replace(USES_DOLBYSURROUNDMODULE_STRIP = True)
            #env.Replace(USES_DS1LICENSEHANDLER_STUB = True)
            env.Replace(USES_AACPACKETIZERMODULE_STUB = True)
            env.Replace(USES_AC3PACKETIZERMODULE_STUB = True)
            #env.Replace(USES_CSPECTRUMANALYZERLIB_STRIP = True)
            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)
            env.Replace(USES_SRSTRUMEDIAMODULE_STRIP=True)                      
            env.Replace(USES_EAC3PACKETIZERMODULE_STUB=True)
            env.Replace(USES_GENERICDEPACKETIZERMODULE_STUB=True)
            env.Replace(USES_PASSTHRUFORMATTERMODULE_STUB=True)
            env.Replace(USES_ULTRASOUND_STREAM_MGR_STUB=True)#Need to confirm
            env.Replace(USES_CHANNELMIXERLIB_STRIP_ONLY = True)
            env.Replace(USES_DOWNMIXMODULE_STRIP = True)
            env.Replace(USES_PEAKMETERMODULE_STRIP = True)
            env.Replace(USES_COMPRESSEDMUTEAPPI_STUB = True)
            env.Replace(USES_COMPRESSEDLATENCYAPPI_STUB = True)
            env.Replace(USES_DELAYAPPI_STUB = True)
            env.Replace(USES_FILTERMODULE_STRIP = True)
            env.Replace(USES_EANSMODULE_STRIP_ONLY = True)
            env.Replace(USES_PBEMODULE_STUB = True)
            env.Replace(USES_CDRCLIB_STRIP_ONLY = True)
            env.Replace(USES_CLIMITER24LIB_STRIP_ONLY = True)
            env.Replace(USES_AIGMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRCMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRC24BITMODULE_STRIP = True)                        
            env.Replace(USES_RATEMATCHINGMODULE_STRIP_ONLY = True)
            env.Replace(USES_RESAMPLERMODULE_STRIP_ONLY = True)
            env.Replace(USES_AUDPPCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_AUDCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_VOLUMECONTROLMODULE_STRIP = True)
            env.Replace(USES_SPECTRUMANALYZERMODULE_STUB = True)
            env.Replace(USES_IEC61937_STUB = True)
            env.Replace(USES_SRSSS3DMODULE_STUB = True)
            env.Replace(USES_DTSHDPACKETIZERMODULE_STUB=True)
            env.Replace(USES_VISUALIZERMODULE_STRIP=True)
            env.Replace(USES_VIRTUALIZERMODULE_STRIP=True)
            env.Replace(USES_REVERBMODULE_STRIP_ONLY = True)
            env.Replace(USES_BASSBOOSTMODULE_STRIP=True)
            env.Replace(USES_POPLESSEQUALIZERMODULE_STRIP=True)
            env.Replace(USES_ALACDECODERMODULE_STUB = True)
            env.Replace(USES_AUDIOSPHEREMODULE_STUB = True)			

            env.Replace(USES_VFE_FILTERS_STRIP = True)
            env.Replace(USES_VOLUME_CONTROL_STRIP_ONLY = True)
            env.Replace(USES_IIR_FILTER_STRIP = True)
            env.Replace(USES_DTMF_DETECT_STRIP = True)
            env.Replace(USES_SAMPLE_SLIP_STRIP = True)
            env.Replace(USES_ECHO_CANCELLER_STRIP = True)
            env.Replace(USES_QUARTET_STRIP = True)
            env.Replace(USES_FLUENCE_VOICEPLUS_STRIP = True)
            env.Replace(USES_AVC_TX_STRIP = True)
            env.Replace(USES_FIR_FILTER_STRIP = True)
            env.Replace(USES_CNG_STRIP = True)
            env.Replace(USES_CTM_STRIP = True)
            env.Replace(USES_TTY_STRIP = True)
            env.Replace(USES_LTETTY_STRIP = True)
            env.Replace(USES_VOCODER_AMRWB_STRIP = True)
            env.Replace(USES_VOCODER_FR_STRIP = True)
            env.Replace(USES_VOCODER_FOURGV_STRIP = True)
            env.Replace(USES_VOCODER_EVRC_STRIP = True)
            env.Replace(USES_VOCODER_EFR_STRIP = True)
            env.Replace(USES_VOCODER_EAMR_STRIP = True)
            env.Replace(USES_VOCODER_V13K_STRIP = True)
            env.Replace(USES_VOCODER_HR_STRIP = True)
            env.Replace(USES_VOCODER_G729AB_STRIP = True)
            env.Replace(USES_VOCODER_G711_STRIP = True)
            env.Replace(USES_TIME_WARPING_STRIP = True)
            env.Replace(USES_SLOW_TALK_STUB = True)
            env.Replace(USES_WIDE_VOICE_STRIP = True)
            env.Replace(USES_WIDE_VOICE_V2_STRIP = True)
            env.Replace(USES_CROSS_FADE_STRIP = True)
            env.Replace(USES_AVC_RX_STRIP = True)
            env.Replace(USES_RVE_STRIP = True)
            env.Replace(USES_VOICE_RESAMPLER_STRIP = True)
            env.Replace(USES_RSBY2_STRIP = True)

            env.Replace(USES_AFEERRHANDLER_STUB = True)
            #env.Replace(USES_EFFECTSMODULE_STRIP=True)
            #env.Replace(USES_DS1LICENSEHANDLER_STRIP=True)
            #env.Replace(USES_AFESLIMBUSDRIVER_STUB = True)
            env.Replace(USES_ADAPANC_STRIP_ONLY = True)
            #env.Replace(USES_VOICE_WAKEUP_STUB = True)
            env.Replace(USES_FBSPKRPROT_STUB = True)
            #env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STUB = True)
            #env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STUB = True)
            #env.Replace(USES_AFERIVADRIVER_STUB=True)				
            env.Replace(USES_RS_DRIVER_STUB = True)
            env.Replace(USES_DML_HAL_STUB = True)
            #env.Replace(USES_AFECODECDRIVER_STUB = True)
            env.Replace(USES_AFESPDIFDRIVER_STUB = True)
            #env.Replace(USES_AVTIMER_DRIVER_STUB = True)
            #env.Replace(USES_AFEAUDIOIFDRIVER_STUB = True)
            #env.Replace(USES_LPAIF_DRIVER_STUB = True)
            #env.Replace(USES_HWD_COMMON_STUB = True)
            #env.Replace(USES_AFEVFRDRIVER_STUB = True)
            env.Replace(USES_AFEHDMIINPUTDRIVER_STUB = True)
            env.Replace(USES_AFEDMAMANAGER_STUB = True)
            env.Replace(USES_VOICEWAKEUPMODULE_STUB = True)
            env.Replace(USES_VOICEWAKEUPV2MODULE_STRIP = True)
            env.Replace(USES_DTMFGENERATION_STRIP_ONLY = True)
            env.Replace(USES_FFSPKRPROT_STUB = True)
            env.Replace(USES_POP_SUPPRESSOR_STRIP_ONLY = True)
            env.Replace(USES_REMOVECLICKLIB_STRIP_ONLY = True)
            env.Replace(USES_SP_V2_STRIP_ONLY =True)
            env.Replace(USES_AFESWMAD_ALGO_STRIP_ONLY=True)
            #env.Replace(USES_AFESWMAD_FWK_STRIP_ONLY=True)
            env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STRIP_ONLY = True)
            env.Replace(USES_MODEL_PARSER_LIB_STRIP_ONLY = True)
            env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STRIP_ONLY = True)
            env.Replace(USES_SVA_CMN_LIB_STRIP_ONLY = True)
            env.Replace(USES_AFECLKMANAGER_STUB = True)

			
        elif env.get('CHIPSET') == "mdm9x45" :
		
            env.Replace(USES_DTS =True)
            env.Replace(USES_MIDI =False)

            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)

            if env.get('USES_MIDI') == True:
                env.Replace(USES_MIDICOREMODULE_STRIP=True)

            env.Replace(USES_DTMFMODULE_STRIP_ONLY = True)
            env.Replace(USES_ETSIBITBUFFLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIFFRLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIOPLIB_STRIP_ONLY = True)
            env.Replace(USES_AACDECODERMODULE_STRIP=True)
            env.Replace(USES_MIDI_SYNTH_SVC_STUB=True)
            env.Replace(USES_ETSIEAACPLUSENCODERMODULE_STUB=True)
            env.Replace(USES_ADPCMDECODERMODULE_STRIP=True)
            env.Replace(USES_ADPCMENCODERMODULE_STRIP=True)
            env.Replace(USES_ETSIAMRWBPLUSDECMODULE_STUB=True)
            env.Replace(USES_FLACDECODERMODULE_STUB=True)
            env.Replace(USES_HPMP3DECODERMODULE_STRIP=True)
            env.Replace(USES_MP3DECODERMODULE_STRIP=True)
            env.Replace(USES_HPMP2DECODERMODULE_STUB=True)
            env.Replace(USES_MP3ENCODERMODULE_STUB=True)            
            env.Replace(USES_SBCENCODERMODULE_STUB=True)
            env.Replace(USES_VORBISDECODERMODULE_STUB = True)
            env.Replace(USES_WMAPRODECODERMODULE_STUB=True)
            env.Replace(USES_WMASTDDECODERMODULE_STUB=True)
            env.Replace(USES_WMASTDV8ENCODERMODULE_STUB=True)
            env.Replace(USES_DOLBYPLUS_ENCODER_STUB=True)
            env.Replace(USES_DOLBYMOBILEMODULE_STUB = True)
            env.Replace(USES_DOLBYPULSEDECODERMODULE_STRIP = True)
            env.Replace(USES_MS12DOLBYPULSEDECODERMODULE_STUB = True)
            env.Replace(USES_DOLBYSURROUNDMODULE_STRIP = True)
            #env.Replace(USES_DS1LICENSEHANDLER_STUB = True)
            env.Replace(USES_AACPACKETIZERMODULE_STUB = True)
            env.Replace(USES_AC3PACKETIZERMODULE_STUB = True)
            #env.Replace(USES_CSPECTRUMANALYZERLIB_STRIP = True)
            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)
            env.Replace(USES_SRSTRUMEDIAMODULE_STRIP=True)                      
            env.Replace(USES_EAC3PACKETIZERMODULE_STUB=True)
            env.Replace(USES_GENERICDEPACKETIZERMODULE_STUB=True)
            env.Replace(USES_PASSTHRUFORMATTERMODULE_STUB=True)
            env.Replace(USES_ULTRASOUND_STREAM_MGR_STUB=True)#Need to confirm
            env.Replace(USES_CHANNELMIXERLIB_STRIP_ONLY = True)
            env.Replace(USES_DOWNMIXMODULE_STRIP = True)
            env.Replace(USES_PEAKMETERMODULE_STRIP = True)
            env.Replace(USES_COMPRESSEDMUTEAPPI_STUB = True)
            env.Replace(USES_COMPRESSEDLATENCYAPPI_STUB = True)
            env.Replace(USES_DELAYAPPI_STUB = True)
            env.Replace(USES_FILTERMODULE_STRIP = True)
            env.Replace(USES_EANSMODULE_STRIP_ONLY = True)
            env.Replace(USES_PBEMODULE_STUB = True)
            env.Replace(USES_CDRCLIB_STRIP_ONLY = True)
            env.Replace(USES_CLIMITER24LIB_STRIP_ONLY = True)
            env.Replace(USES_AIGMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRCMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRC24BITMODULE_STRIP = True)                        
            env.Replace(USES_RATEMATCHINGMODULE_STRIP_ONLY = True)
            env.Replace(USES_RESAMPLERMODULE_STRIP_ONLY = True)
            env.Replace(USES_AUDPPCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_AUDCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_VOLUMECONTROLMODULE_STRIP = True)
            env.Replace(USES_SPECTRUMANALYZERMODULE_STUB = True)
            env.Replace(USES_IEC61937_STUB = True)
            env.Replace(USES_SRSSS3DMODULE_STUB = True)
            env.Replace(USES_DTSHDPACKETIZERMODULE_STUB=True)
            env.Replace(USES_VISUALIZERMODULE_STRIP=True)
            env.Replace(USES_VIRTUALIZERMODULE_STRIP=True)
            env.Replace(USES_REVERBMODULE_STRIP_ONLY = True)
            env.Replace(USES_BASSBOOSTMODULE_STRIP=True)
            env.Replace(USES_POPLESSEQUALIZERMODULE_STRIP=True)
            env.Replace(USES_ALACDECODERMODULE_STUB = True)
            env.Replace(USES_AUDIOSPHEREMODULE_STUB = True)		

            env.Replace(USES_VFE_FILTERS_STRIP = True)
            env.Replace(USES_VOLUME_CONTROL_STRIP_ONLY = True)
            env.Replace(USES_IIR_FILTER_STRIP = True)
            env.Replace(USES_DTMF_DETECT_STRIP = True)
            env.Replace(USES_SAMPLE_SLIP_STRIP = True)
            env.Replace(USES_ECHO_CANCELLER_STRIP = True)
            env.Replace(USES_QUARTET_STRIP = True)
            env.Replace(USES_FLUENCE_VOICEPLUS_STRIP = True)
            env.Replace(USES_AVC_TX_STRIP = True)
            env.Replace(USES_FIR_FILTER_STRIP = True)
            env.Replace(USES_CNG_STRIP = True)
            env.Replace(USES_CTM_STRIP = True)
            env.Replace(USES_TTY_STRIP = True)
            env.Replace(USES_LTETTY_STRIP = True)
            env.Replace(USES_VOCODER_AMRWB_STRIP = True)
            env.Replace(USES_VOCODER_FR_STRIP = True)
            env.Replace(USES_VOCODER_FOURGV_STRIP = True)
            env.Replace(USES_VOCODER_EVRC_STRIP = True)
            env.Replace(USES_VOCODER_EFR_STRIP = True)
            env.Replace(USES_VOCODER_EAMR_STRIP = True)
            env.Replace(USES_VOCODER_V13K_STRIP = True)
            env.Replace(USES_VOCODER_HR_STRIP = True)
            env.Replace(USES_VOCODER_G729AB_STRIP = True)
            env.Replace(USES_VOCODER_G711_STRIP = True)
            env.Replace(USES_TIME_WARPING_STRIP = True)
            env.Replace(USES_SLOW_TALK_STUB = True)
            env.Replace(USES_WIDE_VOICE_STRIP = True)
            env.Replace(USES_WIDE_VOICE_V2_STRIP = True)
            env.Replace(USES_CROSS_FADE_STRIP = True)
            env.Replace(USES_AVC_RX_STRIP = True)
            env.Replace(USES_RVE_STRIP = True)
            env.Replace(USES_VOICE_RESAMPLER_STRIP = True)
            env.Replace(USES_RSBY2_STRIP = True)

            env.Replace(USES_AFEERRHANDLER_STUB = True)
            #env.Replace(USES_EFFECTSMODULE_STRIP=True)
            #env.Replace(USES_DS1LICENSEHANDLER_STRIP=True)
            env.Replace(USES_AFESLIMBUSDRIVER_STUB = True)
            env.Replace(USES_ADAPANC_STUB = True)
            #env.Replace(USES_VOICE_WAKEUP_STUB = True)
            env.Replace(USES_FBSPKRPROT_STUB = True)
            #env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STUB = True)
            #env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STUB = True)
            #env.Replace(USES_AFERIVADRIVER_STUB=True)				
            env.Replace(USES_RS_DRIVER_STUB = True)
            env.Replace(USES_DML_HAL_STUB = True)
            env.Replace(USES_AFECODECDRIVER_STUB = True)
            env.Replace(USES_AFESPDIFDRIVER_STUB = True)
            #env.Replace(USES_AVTIMER_DRIVER_STUB = True)
            #env.Replace(USES_AFEAUDIOIFDRIVER_STUB = True)
            #env.Replace(USES_LPAIF_DRIVER_STUB = True)
            #env.Replace(USES_HWD_COMMON_STUB = True)
            #env.Replace(USES_AFEVFRDRIVER_STUB = True)
            env.Replace(USES_AFEHDMIINPUTDRIVER_STUB = True)
            env.Replace(USES_AFEDMAMANAGER_STUB = True)
            env.Replace(USES_VOICEWAKEUPMODULE_STUB = True)
            env.Replace(USES_VOICEWAKEUPV2MODULE_STRIP = True)
            env.Replace(USES_DTMFGENERATION_STRIP_ONLY = True)
            env.Replace(USES_FFSPKRPROT_STRIP_ONLY = True)
            env.Replace(USES_POP_SUPPRESSOR_STRIP_ONLY = True)
            env.Replace(USES_REMOVECLICKLIB_STRIP_ONLY = True)
            env.Replace(USES_AFESWMAD_ALGO_STRIP_ONLY=True)
            #env.Replace(USES_AFESWMAD_FWK_STRIP_ONLY=True)
            env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STRIP_ONLY = True)
            env.Replace(USES_MODEL_PARSER_LIB_STRIP_ONLY = True)
            env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STRIP_ONLY = True)
            env.Replace(USES_SVA_CMN_LIB_STRIP_ONLY = True)

        elif env.get('CHIPSET') == "msm8909" :
            env.Replace(USES_DTS =True)
            env.Replace(USES_MIDI =False)
            if env.get('USES_EXCLUDE_C2K_FW'):
               print "Stubbing 1x Vocoders"
               env.Replace(USES_VOCODER_EVRC_STUB = True)
               env.Replace(USES_VOCODER_FOURGV_STUB = True)
               env.Replace(USES_VOCODER_V13K_STUB = True)
            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)


            if env.get('USES_MIDI') == True:
                env.Replace(USES_MIDICOREMODULE_STRIP=True)
            
            #Audio features and voice 1x vocoders stubbed for 512MB or less based on the flavors
            if env.get('BUILD_ID') in ['8909.lwg.testQ','8909.lwgns.testQ','8909.lwg.prodQ','8909.lwgns.prodQ','8909.lwgni.testQ','8909.lwgni.prodQ']: 
               env.Replace(USES_DOLBYSURROUNDMODULE_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_SRSTRUMEDIAMODULE_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_DOLBYPULSEDECODERMODULE_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_VOCODER_EVRC_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_VOCODER_FOURGV_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_VOCODER_V13K_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_VOCODER_G729AB_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_WIDE_VOICE_GEN_STRIP_LINK_STUB = True)
            elif env.get('BUILD_ID') in ['8909.wcg.testQ','8909.lcg.testQ','8909.wcg.prodQ','8909.lcg.prodQ']: 
               env.Replace(USES_DOLBYSURROUNDMODULE_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_SRSTRUMEDIAMODULE_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_DOLBYPULSEDECODERMODULE_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_VOCODER_G729AB_GEN_STRIP_LINK_STUB = True)
               env.Replace(USES_WIDE_VOICE_GEN_STRIP_LINK_STUB = True)

        
            else: 
                #If we are not using any of the above flavors, still we should not miss strip and stub
                env.Replace(USES_DOLBYSURROUNDMODULE_STRIP = True)
                env.Replace(USES_SRSTRUMEDIAMODULE_STRIP=True)
                env.Replace(USES_VOCODER_EVRC_STRIP = True)            
                env.Replace(USES_VOCODER_FOURGV_STRIP = True)            
                env.Replace(USES_VOCODER_V13K_STRIP = True) 
                env.Replace(USES_VOCODER_G729AB_STRIP = True)
                env.Replace(USES_WIDE_VOICE_STRIP = True)
                env.Replace(USES_DOLBYPULSEDECODERMODULE_STRIP = True)		
          
            if env.get('USES_SMART_SPEAKER') == True:
                env.Replace(USES_ALACDECODERMODULE_STRIP = True)
                env.Replace(USES_AUDIOSPHEREMODULE_STRIP = True)
                env.Replace(USES_FLACDECODERMODULE_STRIP = True)
                env.Replace(USES_VORBISDECODERMODULE_STRIP = True)
                env.Replace(USES_WMAPRODECODERMODULE_STRIP = True)
                env.Replace(USES_WMASTDDECODERMODULE_STRIP = True)
                env.Replace(USES_PBEMODULE_STRIP_ONLY = True)
            else:
                env.Replace(USES_ALACDECODERMODULE_STUB = True)
                env.Replace(USES_AUDIOSPHEREMODULE_STUB = True)			
                env.Replace(USES_FLACDECODERMODULE_STUB = True)
                env.Replace(USES_VORBISDECODERMODULE_STUB = True)
                env.Replace(USES_WMAPRODECODERMODULE_STUB = True)
                env.Replace(USES_WMASTDDECODERMODULE_STUB = True)
                env.Replace(USES_PBEMODULE_STUB = True)

            env.Replace(USES_DTMFMODULE_STRIP_ONLY = True)
            env.Replace(USES_ETSIBITBUFFLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIFFRLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIOPLIB_STRIP_ONLY = True)
            env.Replace(USES_MIDI_SYNTH_SVC_STUB=True)
            env.Replace(USES_ETSIEAACPLUSENCODERMODULE_STUB=True)
            env.Replace(USES_ADPCMDECODERMODULE_STRIP=True)
            env.Replace(USES_ADPCMENCODERMODULE_STRIP=True)
            env.Replace(USES_ETSIAMRWBPLUSDECMODULE_STUB=True)
            env.Replace(USES_HPMP3DECODERMODULE_STUB=True)
            env.Replace(USES_MP3DECODERMODULE_STRIP=True)
            env.Replace(USES_HPMP2DECODERMODULE_STUB=True)
            env.Replace(USES_MP3ENCODERMODULE_STUB=True)            
            env.Replace(USES_SBCENCODERMODULE_STUB=True)
            env.Replace(USES_WMASTDV8ENCODERMODULE_STUB=True)
            env.Replace(USES_DOLBYPLUS_ENCODER_STUB=True)
            env.Replace(USES_DOLBYMOBILEMODULE_STUB = True)
            env.Replace(USES_AACDECODERMODULE_STRIP=True)
            env.Replace(USES_MS12DOLBYPULSEDECODERMODULE_STUB = True)
            #env.Replace(USES_DS1LICENSEHANDLER_STUB = True)
            env.Replace(USES_AACPACKETIZERMODULE_STUB = True)
            env.Replace(USES_AC3PACKETIZERMODULE_STUB = True)
            #env.Replace(USES_CSPECTRUMANALYZERLIB_STRIP = True)
            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)
                                  
            env.Replace(USES_EAC3PACKETIZERMODULE_STUB=True)
            env.Replace(USES_GENERICDEPACKETIZERMODULE_STUB=True)
            env.Replace(USES_PASSTHRUFORMATTERMODULE_STUB=True)
            env.Replace(USES_ULTRASOUND_STREAM_MGR_STUB=True)#Need to confirm
            env.Replace(USES_CHANNELMIXERLIB_STRIP_ONLY = True)
            env.Replace(USES_DOWNMIXMODULE_STRIP = True)
            env.Replace(USES_PEAKMETERMODULE_STRIP = True)
            env.Replace(USES_COMPRESSEDMUTEAPPI_STUB = True)
            env.Replace(USES_COMPRESSEDLATENCYAPPI_STUB = True)
            env.Replace(USES_DELAYAPPI_STUB = True)
            env.Replace(USES_FILTERMODULE_STRIP = True)
            env.Replace(USES_EANSMODULE_STRIP_ONLY = True)
            env.Replace(USES_CDRCLIB_STRIP_ONLY = True)
            env.Replace(USES_CLIMITER24LIB_STRIP_ONLY = True)
            env.Replace(USES_AIGMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRCMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRC24BITMODULE_STRIP = True)                        
            env.Replace(USES_RATEMATCHINGMODULE_STRIP_ONLY = True)
            env.Replace(USES_RESAMPLERMODULE_STRIP_ONLY = True)
            env.Replace(USES_AUDPPCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_AUDCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_VOLUMECONTROLMODULE_STRIP = True)
            env.Replace(USES_SPECTRUMANALYZERMODULE_STUB = True)
            env.Replace(USES_IEC61937_STUB = True)
            env.Replace(USES_SRSSS3DMODULE_STUB = True)
            env.Replace(USES_DTSHDPACKETIZERMODULE_STUB=True)
            env.Replace(USES_VISUALIZERMODULE_STRIP=True)
            env.Replace(USES_VIRTUALIZERMODULE_STRIP=True)
            env.Replace(USES_REVERBMODULE_STRIP_ONLY = True)
            env.Replace(USES_BASSBOOSTMODULE_STRIP=True)
            env.Replace(USES_POPLESSEQUALIZERMODULE_STRIP=True)

            env.Replace(USES_VFE_FILTERS_STRIP = True)
            env.Replace(USES_VOLUME_CONTROL_STRIP_ONLY = True)
            env.Replace(USES_IIR_FILTER_STRIP = True)
            env.Replace(USES_DTMF_DETECT_STRIP = True)
            env.Replace(USES_SAMPLE_SLIP_STRIP = True)
            env.Replace(USES_ECHO_CANCELLER_STRIP = True)
            env.Replace(USES_QUARTET_STRIP = True)
            env.Replace(USES_FLUENCE_VOICEPLUS_STRIP = True)
            env.Replace(USES_AVC_TX_STRIP = True)
            env.Replace(USES_FIR_FILTER_STRIP = True)
            env.Replace(USES_CNG_STRIP = True)
            env.Replace(USES_CTM_STRIP = True)
            env.Replace(USES_TTY_STRIP = True)
            env.Replace(USES_LTETTY_STRIP = True)
            env.Replace(USES_VOCODER_AMRWB_STRIP = True)
            env.Replace(USES_VOCODER_FR_STRIP = True)
            #env.Replace(USES_VOCODER_FOURGV_STRIP = True)
            #env.Replace(USES_VOCODER_EVRC_STRIP = True)
            env.Replace(USES_VOCODER_EFR_STRIP = True)
            env.Replace(USES_VOCODER_EAMR_STRIP = True)
            #env.Replace(USES_VOCODER_V13K_STRIP = True)
            env.Replace(USES_VOCODER_HR_STRIP = True)
            
            env.Replace(USES_VOCODER_G711_STRIP = True)
            env.Replace(USES_TIME_WARPING_STRIP = True)
            env.Replace(USES_SLOW_TALK_STUB = True)
            
            env.Replace(USES_WIDE_VOICE_V2_STRIP = True)
            env.Replace(USES_CROSS_FADE_STRIP = True)
            env.Replace(USES_AVC_RX_STRIP = True)
            env.Replace(USES_RVE_STRIP = True)
            env.Replace(USES_VOICE_RESAMPLER_STRIP = True)
            env.Replace(USES_RSBY2_STRIP = True)

            #env.Replace(USES_EFFECTSMODULE_STRIP=True)
            #env.Replace(USES_DS1LICENSEHANDLER_STRIP=True)            
            
            #For audio only build flavor, stub the error handler
            if 'USES_AUDIO_STANDALONE' in env:
                 env.Replace(USES_AFEERRHANDLER_STUB = True)

            env.Replace(USES_AFESLIMBUSDRIVER_STUB = True)
            env.Replace(USES_ADAPANC_STUB = True)
            #env.Replace(USES_VOICE_WAKEUP_STUB = True)
            env.Replace(USES_FBSPKRPROT_STUB = True)
            #env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STUB = True)
            #env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STUB = True)
            #env.Replace(USES_AFERIVADRIVER_STUB=True)				
            env.Replace(USES_RS_DRIVER_STUB = True)
            env.Replace(USES_DML_HAL_STUB = True)
            env.Replace(USES_AFECODECDRIVER_STUB = True)
            env.Replace(USES_AFESPDIFDRIVER_STUB = True)
            #env.Replace(USES_AVTIMER_DRIVER_STUB = True)
            #env.Replace(USES_AFEAUDIOIFDRIVER_STUB = True)
            #env.Replace(USES_LPAIF_DRIVER_STUB = True)
            #env.Replace(USES_HWD_COMMON_STUB = True)
            #env.Replace(USES_AFEVFRDRIVER_STUB = True)
            env.Replace(USES_AFEHDMIINPUTDRIVER_STUB = True)
            env.Replace(USES_AFEDMAMANAGER_STUB = True)
            env.Replace(USES_VOICEWAKEUPMODULE_STUB = True)
            env.Replace(USES_VOICEWAKEUPV2MODULE_STRIP = True)
            env.Replace(USES_DTMFGENERATION_STRIP_ONLY = True)
            env.Replace(USES_FFSPKRPROT_STUB = True)
            env.Replace(USES_AFECLKMANAGER_STUB = True)
            env.Replace(USES_POP_SUPPRESSOR_STRIP_ONLY = True)
            env.Replace(USES_REMOVECLICKLIB_STRIP_ONLY = True)
            env.Replace(USES_AFESWMAD_ALGO_STRIP_ONLY=True)
            env.Replace(USES_SP_V2_STRIP_ONLY =True)
            #env.Replace(USES_AFESWMAD_FWK_STRIP_ONLY=True)
            env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STRIP_ONLY = True)
            env.Replace(USES_MODEL_PARSER_LIB_STRIP_ONLY = True)
            env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STRIP_ONLY = True)
            env.Replace(USES_SVA_CMN_LIB_STRIP_ONLY = True)

        elif env.get('CHIPSET') == "mdm9607" :
            env.Replace(USES_DTS =True)
            env.Replace(USES_MIDI =False)

            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)

            if env.get('USES_MIDI') == True:
                env.Replace(USES_MIDICOREMODULE_STRIP=True)

            env.Replace(USES_DTMFMODULE_STRIP_ONLY = True)
            env.Replace(USES_ETSIBITBUFFLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIFFRLIB_STRIP_ONLY = True)
            env.Replace(USES_ETSIOPLIB_STRIP_ONLY = True)
            env.Replace(USES_AACDECODERMODULE_STUB=True)
            env.Replace(USES_MIDI_SYNTH_SVC_STUB=True)
            env.Replace(USES_ETSIEAACPLUSENCODERMODULE_STUB=True)
            env.Replace(USES_ADPCMDECODERMODULE_STUB=True)
            env.Replace(USES_ADPCMENCODERMODULE_STUB=True)
            env.Replace(USES_ETSIAMRWBPLUSDECMODULE_STUB=True)
            env.Replace(USES_FLACDECODERMODULE_STUB=True)
            env.Replace(USES_HPMP3DECODERMODULE_STUB=True)
            env.Replace(USES_MP3DECODERMODULE_STUB=True)
            env.Replace(USES_HPMP2DECODERMODULE_STUB=True)
            env.Replace(USES_MP3ENCODERMODULE_STUB=True)            
            env.Replace(USES_SBCENCODERMODULE_STUB=True)
            env.Replace(USES_VORBISDECODERMODULE_STUB = True)
            env.Replace(USES_WMAPRODECODERMODULE_STUB=True)
            env.Replace(USES_WMASTDDECODERMODULE_STUB=True)
            env.Replace(USES_WMASTDV8ENCODERMODULE_STUB=True)
            env.Replace(USES_DOLBYPLUS_ENCODER_STUB=True)
            env.Replace(USES_DOLBYMOBILEMODULE_STUB = True)
            env.Replace(USES_DOLBYPULSEDECODERMODULE_STUB = True)
            env.Replace(USES_MS12DOLBYPULSEDECODERMODULE_STUB = True)
            env.Replace(USES_DOLBYSURROUNDMODULE_STUB = True)
            env.Replace(USES_DS1LICENSEHANDLER_STUB = True)
            env.Replace(USES_AACPACKETIZERMODULE_STUB = True)
            env.Replace(USES_AC3PACKETIZERMODULE_STUB = True)
            env.Replace(USES_CSPECTRUMANALYZERLIB_STUB = True)
            if env.get('USES_DTS') == True:
                env.Replace(USES_DTSMODULE_STUB = True)
            env.Replace(USES_SRSTRUMEDIAMODULE_STUB=True)                      
            env.Replace(USES_EAC3PACKETIZERMODULE_STUB=True)
            env.Replace(USES_GENERICDEPACKETIZERMODULE_STUB=True)
            env.Replace(USES_PASSTHRUFORMATTERMODULE_STUB=True)
            env.Replace(USES_ULTRASOUND_STREAM_MGR_STUB=True)#Need to confirm
            env.Replace(USES_CHANNELMIXERLIB_STRIP_ONLY = True)
            env.Replace(USES_DOWNMIXMODULE_STRIP = True)
            env.Replace(USES_PEAKMETERMODULE_STUB = True)
            env.Replace(USES_COMPRESSEDMUTEAPPI_STUB = True)
            env.Replace(USES_COMPRESSEDLATENCYAPPI_STUB = True)
            env.Replace(USES_DELAYAPPI_STUB = True)
            env.Replace(USES_FILTERMODULE_STRIP = True)
            env.Replace(USES_EANSMODULE_STRIP_ONLY = True)
            env.Replace(USES_PBEMODULE_STUB = True)
            env.Replace(USES_CDRCLIB_STRIP_ONLY = True)
            env.Replace(USES_CLIMITER24LIB_STRIP_ONLY = True)
            env.Replace(USES_AIGMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRCMODULE_STRIP_ONLY = True)
            env.Replace(USES_MBDRC24BITMODULE_STRIP = True)                        
            env.Replace(USES_RATEMATCHINGMODULE_STRIP_ONLY = True)
            env.Replace(USES_RESAMPLERMODULE_STRIP_ONLY = True)
            env.Replace(USES_AUDPPCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_AUDCMNLIB_STRIP_ONLY = True)
            env.Replace(USES_VOLUMECONTROLMODULE_STRIP = True)
            env.Replace(USES_SPECTRUMANALYZERMODULE_STUB = True)
            env.Replace(USES_IEC61937_STUB = True)
            env.Replace(USES_SRSSS3DMODULE_STUB = True)
            env.Replace(USES_DTSHDPACKETIZERMODULE_STUB=True)
            env.Replace(USES_VISUALIZERMODULE_STUB=True)
            env.Replace(USES_VIRTUALIZERMODULE_STUB=True)
            env.Replace(USES_REVERBMODULE_STRIP_ONLY = True)
            env.Replace(USES_BASSBOOSTMODULE_STUB=True)
            env.Replace(USES_POPLESSEQUALIZERMODULE_STUB=True)
            env.Replace(USES_ALACDECODERMODULE_STUB = True)
            env.Replace(USES_AUDIOSPHEREMODULE_STUB = True)		

            env.Replace(USES_VFE_FILTERS_STRIP = True)
            env.Replace(USES_VOLUME_CONTROL_STRIP_ONLY = True)
            env.Replace(USES_IIR_FILTER_STRIP = True)
            env.Replace(USES_DTMF_DETECT_STRIP = True)
            env.Replace(USES_SAMPLE_SLIP_STRIP = True)
            env.Replace(USES_ECHO_CANCELLER_STRIP = True)
            env.Replace(USES_QUARTET_STRIP = True)
            env.Replace(USES_FLUENCE_VOICEPLUS_STRIP = True)
            env.Replace(USES_AVC_TX_STRIP = True)
            env.Replace(USES_FIR_FILTER_STRIP = True)
            env.Replace(USES_CNG_STRIP = True)
            env.Replace(USES_CTM_STRIP = True)
            env.Replace(USES_TTY_STRIP = True)
            env.Replace(USES_LTETTY_STRIP = True)
            env.Replace(USES_VOCODER_AMRWB_STRIP = True)
            env.Replace(USES_VOCODER_FR_STRIP = True)
            env.Replace(USES_VOCODER_FOURGV_STRIP = True)
            env.Replace(USES_VOCODER_EVRC_STRIP = True)
            env.Replace(USES_VOCODER_EFR_STRIP = True)
            env.Replace(USES_VOCODER_EAMR_STRIP = True)
            env.Replace(USES_VOCODER_V13K_STRIP = True)
            env.Replace(USES_VOCODER_HR_STRIP = True)
            env.Replace(USES_VOCODER_G729AB_STRIP = True)
            env.Replace(USES_VOCODER_G711_STRIP = True)
            env.Replace(USES_TIME_WARPING_STRIP = True)
            env.Replace(USES_SLOW_TALK_STUB = True)
            env.Replace(USES_WIDE_VOICE_STRIP = True)
            env.Replace(USES_WIDE_VOICE_V2_STRIP = True)
            env.Replace(USES_CROSS_FADE_STRIP = True)
            env.Replace(USES_AVC_RX_STRIP = True)
            env.Replace(USES_RVE_STRIP = True)
            env.Replace(USES_VOICE_RESAMPLER_STRIP = True)
            env.Replace(USES_RSBY2_STRIP = True)

            #env.Replace(USES_EFFECTSMODULE_STRIP=True)
            env.Replace(USES_AFESLIMBUSDRIVER_STUB = True)
            env.Replace(USES_ADAPANC_STUB = True)
            #env.Replace(USES_VOICE_WAKEUP_STUB = True)
            env.Replace(USES_FBSPKRPROT_STUB = True)
            #env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STUB = True)
            #env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STUB = True)
            #env.Replace(USES_AFERIVADRIVER_STUB=True)				
            env.Replace(USES_RS_DRIVER_STUB = True)
            env.Replace(USES_DML_HAL_STUB = True)
            env.Replace(USES_AFECODECDRIVER_STUB = True)
            env.Replace(USES_AFESPDIFDRIVER_STUB = True)
            #env.Replace(USES_AVTIMER_DRIVER_STUB = True)
            #env.Replace(USES_AFEAUDIOIFDRIVER_STUB = True)
            #env.Replace(USES_LPAIF_DRIVER_STUB = True)
            #env.Replace(USES_HWD_COMMON_STUB = True)
            #env.Replace(USES_AFEVFRDRIVER_STUB = True)
            env.Replace(USES_AFEHDMIINPUTDRIVER_STUB = True)
            env.Replace(USES_AFEDMAMANAGER_STUB = True)
            env.Replace(USES_VOICEWAKEUPMODULE_STUB = True)
            env.Replace(USES_VOICEWAKEUPV2MODULE_STRIP = True)
            env.Replace(USES_DTMFGENERATION_STRIP_ONLY = True)
            env.Replace(USES_FFSPKRPROT_STUB = True)
            env.Replace(USES_POP_SUPPRESSOR_STRIP_ONLY = True)
            env.Replace(USES_REMOVECLICKLIB_STRIP_ONLY = True)
            env.Replace(USES_AFESWMAD_ALGO_STRIP_ONLY=True)
            env.Replace(USES_SP_V2_STUB =True)
            #env.Replace(USES_AFESWMAD_FWK_STRIP_ONLY=True)
            env.Replace(USES_LISTEN_FEATURE_EXTRACTION_STRIP_ONLY = True)
            env.Replace(USES_MODEL_PARSER_LIB_STRIP_ONLY = True)
            env.Replace(USES_LISTEN_SIGNAL_PROCESSING_STRIP_ONLY = True)
            env.Replace(USES_SVA_CMN_LIB_STRIP_ONLY = True)

        else:        
            print "unsupported target"
            sys.exit(-1)
        #List of libraries not to be shipped in source. 
        if 'USES_CLEAN_PACK' in env:
            env.Replace(USES_ADSP_LICENSE_DB=True)
            env.Replace(USES_ADAPANC=True)
            env.Replace(USES_ALGOCOMMON=True)
            env.Replace(USES_DTMFGENERATION=True)
            env.Replace(USES_FBSPKRPROT=True)
            env.Replace(USES_FFSPKRPROT=True)
            env.Replace(USES_POP_SUPPRESSOR=True)
            env.Replace(USES_SP_V2=True)
            env.Replace(USES_REMOVECLICKLIB=True)
            env.Replace(USES_AFESWMAD_ALGO=True)
            # env.Replace(USES_DML_HAL=True)
            # env.Replace(USES_RS_DRIVER=True)
            env.Replace(USES_CAACDECODERLIB=True)
            env.Replace(USES_ETSIBITBUFFLIB=True)
            env.Replace(USES_ETSIFFRLIB=True)
            env.Replace(USES_ETSIOPLIB=True)
            env.Replace(USES_AMRBITBUFFERLIB=True)
            env.Replace(USES_AMRCORELIB=True)
            env.Replace(USES_AMRMATHLIB=True)
            env.Replace(USES_ETSIAMROPLIB=True)
            env.Replace(USES_CCOMBOMP3DECODERLIB=True)
            env.Replace(USES_BYTESHIFTERAPPI=True)
            env.Replace(USES_CHANNELMIXERAPPI=True)
            env.Replace(USES_CHANNELMIXERLIB=True)
            env.Replace(USES_AUDPPCMNLIB=True)
            env.Replace(USES_COMPRESSEDMUTEAPPI=True)
            env.Replace(USES_DOWNMIXMODULE=True)
            env.Replace(USES_EANSMODULE=True)
            env.Replace(USES_BASSBOOSTMODULE=True)
            env.Replace(USES_CEQUALIZERLIB=True)
            env.Replace(USES_COMBOPPAPPI=True)
            env.Replace(USES_PBEMODULE=True)
            env.Replace(USES_POPLESSEQUALIZERMODULE=True)
            env.Replace(USES_REVERBMODULE=True)
            env.Replace(USES_VIRTUALIZERMODULE=True)
            env.Replace(USES_VISUALIZERMODULE=True)
            env.Replace(USES_FILTERMODULE=True)
            env.Replace(USES_CHANIIRAPPI=True)
            env.Replace(USES_MULTIBANDIIRAPPI=True)
            env.Replace(USES_MULTISTAGEIIRAPPI=True)
            env.Replace(USES_AIGMODULE=True)
            env.Replace(USES_CDRCLIB=True)
            env.Replace(USES_CLIMITER24LIB=True)
            env.Replace(USES_MBDRCMODULE=True)
            env.Replace(USES_MBDRC24BITMODULE = True)                        
            env.Replace(USES_COMPRESSEDLATENCYAPPI=True)
            env.Replace(USES_DELAYAPPI=True)
            env.Replace(USES_PEAKMETERMODULE=True)
            env.Replace(USES_RATEMATCHINGMODULE=True)
            env.Replace(USES_RESAMPLERMODULE=True)
            env.Replace(USES_VOLUMECONTROLMODULE=True)
            env.Replace(USES_DAKAPPI=True)
            env.Replace(USES_AACPACKETIZERMODULE=True)
            env.Replace(USES_AUDCMNLIB=True)
            env.Replace(USES_DTMFMODULE=True)
            env.Replace(USES_IEC61937=True)
            env.Replace(USES_MIDI_SYNTH_SVC=True)
            env.Replace(USES_AVSYNC_STATS=True)
            env.Replace(USES_LISTEN_FEATURE_EXTRACTION=True)
            env.Replace(USES_LISTEN_SIGNAL_PROCESSING=True)
            env.Replace(USES_VOICE_WAKEUP=True)
            env.Replace(USES_LISTEN_PROC_SVC=True)
            env.Replace(USES_LISTEN_STREAM_MGR=True)
            env.Replace(USES_USCOMMONLIB=True)
            env.Replace(USES_CCAPIEPOSSTYLUSENCODERLIB=True)
            env.Replace(USES_CCAPIFREEFORMENCODERLIB=True)
            env.Replace(USES_CCAPIUSDETECTLIB=True)
            env.Replace(USES_CUSPROXIMITYLIB=True)
            env.Replace(USES_USPROXIMITYLIB=True)
            env.Replace(USES_ULTRASOUND_DEC_SVC=True)
            env.Replace(USES_ULTRASOUND_ENC_SVC=True)
            env.Replace(USES_ULTRASOUND_PROC_SVC=True)
            env.Replace(USES_ULTRASOUND_STREAM_MGR=True)
            env.Replace(USES_CNG=True)
            env.Replace(USES_CROSS_FADE=True)
            env.Replace(USES_CTM=True)
            env.Replace(USES_FIR_FILTER=True)
            env.Replace(USES_IIR_FILTER=True)
            env.Replace(USES_LTETTY=True)
            env.Replace(USES_RSBY2=True)
            env.Replace(USES_TTY=True)
            env.Replace(USES_VFE_FILTERS=True)
            env.Replace(USES_VOCODER_AMRWB=True)
            env.Replace(USES_VOCODER_CAPI=True)
            env.Replace(USES_VOCODER_EFR=True)
            env.Replace(USES_VOCODER_EVRC=True)
            env.Replace(USES_VOCODER_FOURGV=True)
            env.Replace(USES_VOCODER_FR=True)
            env.Replace(USES_VOCODER_G711=True)
            env.Replace(USES_VOCODER_G729AB=True)
            env.Replace(USES_VOCODER_HR=True)
            env.Replace(USES_VOCODER_V13K=True)
            env.Replace(USES_VOICE_RESAMPLER=True)
            env.Replace(USES_VOLUME_CONTROL=True)
    return
